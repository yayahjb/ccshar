head	1.1;
access;
symbols;
locks
	root:1.1; strict;
comment	@ * @;


1.1
date	2005.08.03.02.31.07;	author root;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@/*
**  Get user name.  Something for everyone.
*/
/* LINTLIBRARY */
#include "shar.h"
#ifdef	USE_GETPWUID
#include <pwd.h>
#endif	/* USE_GETPWUID */
#ifdef	RCSID
static char RCS[] =
	"$Header: luser.c,v 2.0 88/05/27 13:27:23 rsalz Exp $";
#endif	/* RCSID */


/*
**  Get user name.  Not secure, but who sends nastygrams as shell archives?
*/
char *
User()
{
#ifdef	USE_GETPWUID
    extern struct passwd	*getpwuid();
    struct passwd		*p;
#endif	/* USE_GETPWUID */
    char			*g;

    if (g = getenv("USER"))
	return(g);
    if (g = getenv("LOGNAME"))
	return(g);
    if (g = getenv("NAME"))
	return(g);
#ifdef	USE_GETPWUID
    if (p = getpwuid(getuid()))
	return(p->pw_name);
#endif	/* USE_GETPWUID */
    return(USERNAME);
}
@
